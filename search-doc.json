{"searchDocs":[{"title":"Preprocessing","type":0,"sectionRef":"#","url":"/wiki/common-resources/scrna-seq/preprocessing","content":"Preprocessing","keywords":"","version":"Next"},{"title":"Sample header","type":0,"sectionRef":"#","url":"/wiki/software/sample-header","content":"Sample header","keywords":"","version":"Next"},{"title":"Morgan Lab Shared Folder","type":0,"sectionRef":"#","url":"/wiki/common-resources/morgan-lab-shared-folder","content":"Morgan Lab Shared Folder","keywords":"","version":"Next"},{"title":"Contributing","type":0,"sectionRef":"#","url":"/wiki/contributing","content":"Contributing","keywords":"","version":"Next"},{"title":"Model","type":0,"sectionRef":"#","url":"/wiki/common-resources/model","content":"Model","keywords":"","version":"Next"},{"title":"Frequently asked questions","type":0,"sectionRef":"#","url":"/wiki/working-with-hpc/frequenty-asked-questions","content":"","keywords":"","version":"Next"},{"title":"How do I check my HPC usage?​","type":1,"pageTitle":"Frequently asked questions","url":"/wiki/working-with-hpc/frequenty-asked-questions#how-do-i-check-my-hpc-usage","content":" $ sreport cluster UserUtilizationByAccount users=r04mr23 start=2000-01-01 format=Accounts%20,Cluster%16,Login,Used -------------------------------------------------------------------------------- Cluster/User/Account Utilization 2000-01-01T00:00:00 - 2024-06-22T23:59:59 (772412400 secs) Usage reported in CPU Minutes -------------------------------------------------------------------------------- Account Cluster Login Used -------------------- ---------------- --------- -------- mmsn maxwell_cluster r04mr23 281760   Change the r04mr23 with your Maxwell username, it's in minutes, so you have to divide it by 60.  ","version":"Next","tagName":"h2"},{"title":"I set my #SBATCH --time correctly but my job is being stopped mid way?​","type":1,"pageTitle":"Frequently asked questions","url":"/wiki/working-with-hpc/frequenty-asked-questions#i-set-my-sbatch---time-correctly-but-my-job-is-being-stopped-mid-way","content":" The reason might be because you didn't set the partition in the first place and your job being assigned to spot-compute which can only be used for running short job no longer than 36 hours.Add the #SBATCH --partition uoa-compute to run job that is longer than 36 hours  ","version":"Next","tagName":"h2"},{"title":"How do I check how much storage have I used? du -sh seems to take forever​","type":1,"pageTitle":"Frequently asked questions","url":"/wiki/working-with-hpc/frequenty-asked-questions#how-do-i-check-how-much-storage-have-i-used-du--sh-seems-to-take-forever","content":" Chek home (/uoa/home/r04mr23) directory usage  $ beegfs-ctl --getquota --cfgFile=/etc/beegfs/beegfs-client-uoa-home.conf --uid r04mr23 Quota information for storage pool Default (ID: 1): user/group || size || chunk files name | id || used | hard || used | hard --------------|------||------------|------------||---------|--------- r04mr23|193544|| 14.19 GiB| 56.00 GiB|| 75776| 200000   Check sharedscratch directory (/uoa/home/r04mr23/sharedscratch) usage  $ beegfs-ctl --getquota --cfgFile=/etc/beegfs/beegfs-client-uoa-scratch.conf --uid r04mr23 user/group || size || chunk files name | id || used | hard || used | hard --------------|------||------------|------------||---------|--------- r04mr23|193544|| 2.52 TiB| 1024.00 GiB|| 1002345| 1000000   Again change r04mr23 with your Maxwell username, size used is your usage, size hard is the non-official storage limit, try to keep it below hard as suggested by the Maxwell team. chunk files is the file number limit. ","version":"Next","tagName":"h2"},{"title":"Protip","type":0,"sectionRef":"#","url":"/wiki/protip","content":"","keywords":"","version":"Next"},{"title":"Terminal autocompletion​","type":1,"pageTitle":"Protip","url":"/wiki/protip#terminal-autocompletion","content":" Tired of going through of your bash history and pressing up arrow key to find that one specific command? Use bash autocompletion  Create a file called .inputrc in your home directory (e.g., /uoa/home/r04mr23/.inputrc)Copy and paste the following to the file .inputrc &quot;\\e[A&quot;: history-search-backward &quot;\\e[B&quot;: history-search-forward Save it and reload your terminal by creating a new terminal (it's the + button beside the bash)Now whenever you're typing a command you can use up or down arrow key to search for the previous command that you used. Here's the example: # I typed `sba` [r04mr23@maxlogin1(maxwell) ~]$ sba # I pressed up arrow [r04mr23@maxlogin1(maxwell) ~]$ sbatch /uoa/home/r04mr23/sharedscratch/src/start_jupyter.sh benccchmarker-simulation # I pressed the up arrow again [r04mr23@maxlogin1(maxwell) ~]$ sbatch alignment_slurm.sh   ","version":"Next","tagName":"h2"},{"title":"Passwordless Auth to VS Code Remote​","type":1,"pageTitle":"Protip","url":"/wiki/protip#passwordless-auth-to-vs-code-remote","content":" It can be annoying to have to reenter your Maxwell password every time you're trying to connect to it. Here's how you can bypass it:  Open terminal on your local pcGenerate public and private keys using OpenSSL, change &lt;local_user&gt; with your username (e.g., r04mr23 for me) ssh-keygen -q -b 2048 -P &quot;&quot; -f /Users/&lt;local_user&gt;/.ssh/keys/maxlogin_rsa -t rsa This will output two files maxlogin1_rsa (private key) and maxlogin1_rsa.pub (publick key)Update your ssh config located on /Users/&lt;localuser&gt;/.ssh/config (create one if you don't have) by adding the following, again change the &lt;local_user&gt; and &lt;remote_user&gt; with yours, usually they're the same for Maxwell Host maxlogin1 HostName maxlogin1.abdn.ac.uk User &lt;remote_user&gt; Port 22 PreferredAuthentications publickey IdentityFile &quot;/Users/&lt;local_user&gt;/.ssh/keys/maxlogin1_rsa&quot; Copy the content of the maxlogin1_rsa.pub to &lt;remote_user_home_dir&gt;/.ssh/authorized_keys (in Maxwell it's /uoa/home/&lt;remote_user_name&gt;/.ssh/authorized_keys create one if it doesn't exist), your file should look like this now ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxu/dOSNX1aRYB8Abl1Jbj0zFTwCCQBaXi/ZsWJS4mEX0RkXckItf2hf0O14PBZ8DdW9RS/zdadadasdaystdeyuasgdhjagjhdgashjdghjasdtyaatyuetyquegjhwqghjdaghjsdghsjagdhjagsdhjaghjdgahsjdghjastdyaudtyuatdyuatsyudtasyudtasyudryrqtyertyqwretfqghwefqgwhefghqfhegqfwgheqw m.ramdhani.23@abdn.ac.uk Update the permission to 600 (File can only be accessed by you, inaccessible to everyone else) [r04mr23@maxlogin1(maxwell) ~]$ chmod 600 /uoa/home/&lt;remote_user_name&gt;/.ssh/authorized_keys Now you can log in to VS Code without password! ","version":"Next","tagName":"h2"},{"title":"Managing Files and Directories","type":0,"sectionRef":"#","url":"/wiki/working-with-hpc/managing-files-and-directories","content":"Managing Files and Directories As a member of the lab, you will have access to three different storage resources: home directory (~ or uoa/home/{your_user_id})scratch directory (~/sharedscratch or /uoa/home/{your_user_id}/sharedscratch)Morgan_Lab shared folder (/uoa/scratch/shared/Morgan_Lab) The following breakdown shows the storage limit and file limit for each resource: id\tName\tStorage Limit\tFile Limit0\thome\t64G\t200K 1\tscratch\t1T\t200K 2\tMorgan_Lab\t1T\t200K (In reality, there are no definitive limits to the storage size. However, it's recommended to keep your scratch directory at around 1T unless you have exceptional circumstances, as the HPC admins will monitor them from time to time.) The home and scratch directories are personal directories, and no one else is supposed to have access to them except you. Most of the time, all files are supposed to be stored in the scratch directory. The home directory is only meant to store some configurations (hidden directories that start with .), and some small files from your prototyping may go there. The Morgan_Lab shared folder is shared among the members of the group. If you're not part of the group, you will have to raise a ticket to the IT helpdesk here.","keywords":"","version":"Next"},{"title":"Running a Jupyter Server","type":0,"sectionRef":"#","url":"/wiki/working-with-hpc/running-a-jupyter-server","content":"","keywords":"","version":"Next"},{"title":"Introduction​","type":1,"pageTitle":"Running a Jupyter Server","url":"/wiki/working-with-hpc/running-a-jupyter-server#introduction","content":" Jupyter notebook is very handy for fast-prototyping or quick Python code testing. In this guide, we will be using VS Code to create a Jupyter Server and run Jupyter notebook on Maxwell. Before starting please make sure you have installed the following:  Visual Studio CodeVS Code Jupyter extension  Every file with .ipynb extension will be detected as a Jupyter notebook file, you can create a file and put a .ipynb extension and it will become a Jupyter notebook  To start working with Jupyter notebook you will need to select a kernel   There are two options, you can use the readily available environments (Maxwell default conda environments, your conda environments or your pip environments if you're in the same directory with it). The problem with selecting this option is the fact that you will be using login node which is very slow and may fail because of you don't have enough memory to run your script. Most of the time we will opt for the second choice, to use the Existing Jupyter server.  ","version":"Next","tagName":"h2"},{"title":"Creating Jupyter server​","type":1,"pageTitle":"Running a Jupyter Server","url":"/wiki/working-with-hpc/running-a-jupyter-server#creating-jupyter-server","content":" To create a Jupyter server we need to submit a slurm job that handles the running of Jupyter server in the background for us  start_jupyter.sh #!/bin/bash #SBATCH --time=01:00:00 #SBATCH --cpus-per-task=8 #SBATCH --ntasks=1 #SBATCH --mem=64G #SBATCH --job-name=jupyter-notebook #SBATCH --output=jupyter-notebook.log module load mamba source ~/.bash_profile source ~/.bashrc mamba activate my_environment jupyter notebook --no-browser --ip=0.0.0.0   Change #SBATCH options according to your need, in my case I need 64 GB memory, with 8 CPUs per task and keep it running for the next 1 hour. If you're not sure with the #SBATCH option or you want to add more option, you can refer to this. The next lines I'm loading mamba, my bash_profile and setup (The reason was if I remember it correctly because if I don't do it it will use the default base environment that may cause clash with the package dependencies installed in my environment, so yes it's better to include them). The lines that follow is to activate my environment (NOTE: You must have ipykernel package installed in your environment otherwise the server creation will fail) and to create a Jupyter notebook server.  Once you submit the job, the log will appear (in my case jupyter-notebook.log) wait for around 2 or 3 minutes till the log file is filled with Jupyter logs (Either server is fully running or it's failed). Open the jupyter-notebook.log, if it's successful you will see the url to the server.    Copy the url, the one that doesn't start with the http://127.0.0.1...... (in my case it's http://vhmem002.int.maxwell.abdn.ac.uk:8888/tree?token=fac698f887a93963b6b7f860158e2e83ce5f03b4281978e6)  Go back to your Jupyter notebook, click Select Kernel and select Existing Jupyter Server..., paste the url, press enter and when prompted with environment selection, select your environment (There is only one of it).  ","version":"Next","tagName":"h2"},{"title":"More resources​","type":1,"pageTitle":"Running a Jupyter Server","url":"/wiki/working-with-hpc/running-a-jupyter-server#more-resources","content":" Visual Studio Code's Jupyter Notebooks in VS Code ","version":"Next","tagName":"h2"},{"title":"Slurm interactive session","type":0,"sectionRef":"#","url":"/wiki/working-with-hpc/slurm-interactive-session","content":"Slurm interactive session One of the common beginner mistake when prototyping or running something on the HPC is to run the job on the login node, which technically should be fine if you're not running something that requires intensive resources. This is where Slurm interactive session comes into play. With Slurm interactive session we can run our programs within HPC clusters in real-time. So instead of using login node with the limited resource that it has, we can utilise the nodes in a full shell session. To start an interactive session you can use the srun command with the following arguments --nodes: Specify the number of compute node that you want to use--ntasks-per-node: Tell the number of tasks we want to run per node--time: Set how long we want the interactive session to last in DD-hh:mm:ss format--pty: Create a pseudoterminal for us to interact with the HPCbash: Use bash interactive as the terminal-i: Let bash accept the standard input (keyboard input) [r04mr23@maxlogin1(maxwell) ~]$ srun --nodes=1 --ntasks-per-node=1 --time=01:00:00 --pty bash -i Running the above command will let us enter the interactive session, you will notice how the hostname changes from maxlogin1 to one of the node hostname in the HPC, in my case it's vhmem002 [r04mr23@vhmem002(maxwell) ~]$ To exit the interactive session and going back to the login node you can use the exit command. Happy hacking!","keywords":"","version":"Next"},{"title":"Getting started","type":0,"sectionRef":"#","url":"/wiki/working-with-hpc/getting-an-account","content":"","keywords":"","version":"Next"},{"title":"Getting an account​","type":1,"pageTitle":"Getting started","url":"/wiki/working-with-hpc/getting-an-account#getting-an-account","content":" To connect and log in to the HPC (referred to as Maxwell), you need to set up an account.  Fill out this form. The fields should be self-explanatory.Wait for an email confirming that your account is ready. This usually takes 2-5 days.  ","version":"Next","tagName":"h2"},{"title":"Installing VPN​","type":1,"pageTitle":"Getting started","url":"/wiki/working-with-hpc/getting-an-account#installing-vpn","content":" If you want to connect to Maxwell and you're not using the university network, you may need to install a VPN.  ","version":"Next","tagName":"h2"},{"title":"Macbook​","type":1,"pageTitle":"Getting started","url":"/wiki/working-with-hpc/getting-an-account#macbook","content":" Click the bee-like icon beside the Bluetooth icon on the menu bar.Select Business.Install UoA Remote Access.  ","version":"Next","tagName":"h3"},{"title":"Non uni-managed devices​","type":1,"pageTitle":"Getting started","url":"/wiki/working-with-hpc/getting-an-account#non-uni-managed-devices","content":" If you're using a device not managed by the university, you may not have access to the F5 VPN. However, you can use the Web VPN.  Go to remote.abdn.ac.uk.Log in with your university account.Click either maxlogin1 or maxlogin2 (These are your login nodes)When the pop-up appears click start Another pop-up will appear and select Open F5 Networks VPNOnce you're connected, you will see the F5 VPN on the system tray  ","version":"Next","tagName":"h3"},{"title":"Installing Git Bash​","type":1,"pageTitle":"Getting started","url":"/wiki/working-with-hpc/getting-an-account#installing-git-bash","content":" You may need Git Bash if you're not using a UNIX system (e.g., Windows but newer Windows has Powershell built in so you should be fine, but just in case)  ","version":"Next","tagName":"h2"},{"title":"Windows​","type":1,"pageTitle":"Getting started","url":"/wiki/working-with-hpc/getting-an-account#windows","content":" Download git standalone installer from here Make sure you're downloading the correct build based on your Windows system architecture (32/64-bit) Install it ","version":"Next","tagName":"h3"},{"title":"Running a job","type":0,"sectionRef":"#","url":"/wiki/working-with-hpc/running-a-job","content":"Running a job For this tutorial I'll be creating an empty folder called tutorial in my sharedscratch The VS Code way Right click on the sharedscratch folder and select New Folder...Name the folder tutorial Shell $ mkdir sharedscratch/tutorial Let's say I want to run a Python script called test.py on Maxwell, it's just a simple script that will print This is a Maxwell test 100 times # sharedscratchtutorial/tutorial/test.py for i in range(100): print(&quot;This is a Maxwell test&quot;) The VS Code way Create a new file by right clicking on the tutorial folder Name the file test.py Copy and paste the code above to the file Save the file by pressing CTRL+S on Windows or ⌘+ s on Mac You can open a terminal CTRL + ` on Windows or ⌃ + ` on Mac, then run the code by typing python test.py and should be working smoothly for something small like this, but in reality you'll be working with much bigger stuff and its not recommended to run your whole pipeline on a login node, so instead of doing that we will use SLURM Create a new file called slurm.sh in the same directory as your test.py Paste the following blocks of code to the slurm.sh #!/bin/bash #SBATCH --job-name=tester #SBATCH -o tester.out #SBATCH --ntasks=1 #SBATCH --mail-type=begin #SBATCH --mail-type=end #SBATCH --mail-user=m.ramdhani.23@abdn.ac.uk python test.py The first line is called the shebang it specifify the interpreter to be used to run the code, next lines starting with #SBATCH are the special instructions we'll use to interact with the Slurm Workload Manager --job-name: Name for the job--o: Output log--ntasks: Number of tasks to be executed in parallel--mail-..: Send a mail when the job starts running and when the job is finished to --mail-user email address Once we're set we can run the code from the terminal # Change the directory if you haven't done so $ cd sharedscratch/tutorial # Run the script $ sbatch slurm.sh You can check the status of the job by using squeue -u &lt;YOUR_USER_ID&gt; You can also see the log once your job starts running in a file called tester.out Shell $ cd sharedscratch/tutorial $ vim test.py esc then i to insert text, ctrl + v to paste the python code, save it by pressing esc then w then q and enter to save file vim slurm.sh Do the same thing above but this time paste the code for slurm.sh and save it $ sbatch slurm.sh $ squeue -u &lt;YOUR_USERNAME&gt; When running your job you might feel like you want to update your script or stop the already running job to do this you can use scancel &lt;JOB_ID&gt; JOB_ID of your job can be found on the first column when you run squeue -u &lt;YOUR_USERNAME&gt; More resources: Bioinformatics Workbook's Quick Reference Sheet for HPCUSC's HPC CheatsheetSlurm Workload Manager Documentation","keywords":"","version":"Next"},{"title":"Using Maxwell","type":0,"sectionRef":"#","url":"/wiki/working-with-hpc/using-maxwell","content":"","keywords":"","version":"Next"},{"title":"Command line/Terminal/Command Prompt/Powershell​","type":1,"pageTitle":"Using Maxwell","url":"/wiki/working-with-hpc/using-maxwell#command-lineterminalcommand-promptpowershell","content":" Windows: Type cmd or powershell on the explorer near the start bar.Mac: ⌘+ space, then type terminalLinux: ctrl+alt+t  You can use ssh to connect to Maxwell, there are two login nodes that you can use maxlogin1.abdn.ac.uk and maxlogin2.abdn.ac.uk. You can use your id (For example my ID is r04mr23) and password to connect to Maxwell.  ssh r04mr23@maxlogin1.abdn.ac.uk   It may show you this message  The authenticity of host 'maxlogin1.abdn.ac.uk' can't be established. ECDSA key fingerprint is SHA256:CwrcHjdd9349u38rj392fr9j389rj3298rj23. Are you sure you want to continue connecting (yes/no/[fingerpint])   For now to not complicate things just type yes and you're good to go!  ","version":"Next","tagName":"h2"},{"title":"First time using HPC/Terminal/Command line?​","type":1,"pageTitle":"Using Maxwell","url":"/wiki/working-with-hpc/using-maxwell#first-time-using-hpcterminalcommand-line","content":" If you're using HPC/Terminal/Command line for the first time, here are some guides that might be useful for you:  Software Carpentry's Intro to Unix ShellCarpentries Incubator's Intro to HPCAlexji's UNIX cheatsheetBioinformatics Workbook's UNIX basics  There are probably more tutorials that better suit your liking if you Google and look for unix tutorial site:github.io  ","version":"Next","tagName":"h3"},{"title":"VS Code Remote SSH Extension​","type":1,"pageTitle":"Using Maxwell","url":"/wiki/working-with-hpc/using-maxwell#vs-code-remote-ssh-extension","content":" Terminal is powerful but sometimes you just want to prototype things faster and more efficient (which honestly if you're some sort of UNIX gods you'd probably be able to do it but I'm not) in more user-friendly environment, not to mention the painful process of transferring files using scp and sftps, well technically you can use FileZilla or PUTTY for it but why bother switching back and forth between two softwares when you can have all them in one. VS Code got your back, it offers a graphical user interface (GUI) that lets you edit code, run a terminal, and leverage thousands of extensions to streamline development. To use VS code;  Download VS Code (Don't confuse it with Microsoft's other product called Visual Studio)Install it (of course)Open it and click the Extension icon on the left side paneSearch for the Remote - SSH extension and install itOnce you have it installed you will have the Remote Explorer option under the Extension icon, click itHover over SSH and Click the New Remote (+) buttonType the ssh login, press enter ssh r04mr23@maxlogin1.abdn.ac.uk It will ask you what kind of operating system, select LinuxNow when you click the Explorer icon on the left side pane (or ⇧⌘E), you can select which directory you want to open⌃ + ``` will open the terminal for you  Happy exploring and becoming more productive. More on VS Code and the Remote Explorer extension  Microsoft's Visual Studio Code BasicsMicrosoft's Remote Development using VS Code  ","version":"Next","tagName":"h2"},{"title":"Other resources​","type":1,"pageTitle":"Using Maxwell","url":"/wiki/working-with-hpc/using-maxwell#other-resources","content":" Aiden Durrant's Machine Learning Guide for UoA HPC ClustersMaxwell's User Manual ","version":"Next","tagName":"h2"},{"title":"Managing packages","type":0,"sectionRef":"#","url":"/wiki/working-with-hpc/managing-packages","content":"","keywords":"","version":"Next"},{"title":"Introduction​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#introduction","content":" There are many reasons why we need to use package manager or environment over installing packages globally (which most likely you won't be able to do as you don't have the sudo access), here are some:  Dependency Management By using package manager/environment makes it easier to ensure that all the dependencies we use when we're developing our software consistent as it helps manage the different version of libraries/packages which prevents compatibility issues or version conflicts to happenIsolation Each project can have its own set of dependencies isolated from other projects. This is particularly important when different projects require different versions of the same library.Reproducibility By using environment or package managers, you can recreate the exact environment needed to run an application, ensuring that it works the same way on different machines.  And honestly many other reasons why but hopefully you should be convinced to use package manager by this point.  There are different ways on how you can manage your packages/environments and it also depends on the language that you're using as your development tools. However, since we're talking about Maxwell and you're most likely to use Python or R, there are three different package managers that I used most often, they are venv, conda and mamba. Here are the simple comparison between them  id\tname\tadvantages\tdisadvantages0\tvenv\t- Installing with pip is blazingly fast - Most of the python packages are in pip\t- Can only manage Python libraries 1\tconda\t- Can manage not only Python (e.g., R, Julia etc.)\t- Installation is slow compared to PIP 2\tmamba\t- Basically a conda wrapper with faster installation\t- None that I have found yet  ","version":"Next","tagName":"h2"},{"title":"venv​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#venv","content":" ","version":"Next","tagName":"h2"},{"title":"Creating a virtual environment​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#creating-a-virtual-environment","content":" [r04mr23@maxlogin1(maxwell) ~]$ python -m venv my_env   This will create a virtual environment called my_env located in the directory where you run the command, in my case it's the ~/home directory  ","version":"Next","tagName":"h3"},{"title":"Activating the environment​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#activating-the-environment","content":" [r04mr23@maxlogin1(maxwell) ~]$ source my_env/bin/activate # (my_env) will appear at the start if you successfully activated the environment (my_env) [r04mr23@maxlogin1(maxwell) ~]$   If you check the Python using which python it will give you the path to the binary inside of the virtual environment  ","version":"Next","tagName":"h3"},{"title":"Managing packages​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#managing-packages-1","content":" You can use pip to install, update or remove packages packages, for example to install pandas  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ pip install pandas   If you installed it successfully, now if you check the list of installed packages, you will see pandas in it  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ pip list Package Version --------------- ----------- numpy 2.0.0 pandas 2.2.2 pip 23.0.1 python-dateutil 2.9.0.post0 pytz 2024.1 setuptools 65.5.0 six 1.16.0 tzdata 2024.1   To install specific version of a package  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ pip install pandas=1.2.3   To update a package  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ pip install pandas --upgrade   OR  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ pip install pandas -U   To uninstall a package  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ pip uninstall pandas   ","version":"Next","tagName":"h3"},{"title":"Saving installed packages version for reproducibility​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#saving-installed-packages-version-for-reproducibility","content":" You can save the installed packages in your environment using pip freeze &gt; requirements.txt for which you can then use the requirements.txt to install similar packages and version on a new environment  requirements.txt numpy==2.0.0 pandas==2.2.2 python-dateutil==2.9.0.post0 pytz==2024.1 six==1.16.0 tzdata==2024.1   ","version":"Next","tagName":"h3"},{"title":"Deactivating packages​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#deactivating-packages","content":" Once you're done with everything or when you want to switch to another environment you can use deactivate command and it will deactivate the current environment  ","version":"Next","tagName":"h3"},{"title":"More resources​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#more-resources","content":" Python Docs' venv — Creation of virtual environmentsReal Python's Python Virtual Environments: A Primerpip commands  ","version":"Next","tagName":"h3"},{"title":"Mamba​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#mamba","content":" I will skip conda because the commands will be more or less similar to mamba's  ","version":"Next","tagName":"h2"},{"title":"Creating a mamba environment​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#creating-a-mamba-environment","content":" Load mamba  [r04mr23@maxlogin1(maxwell) ~]$ module load mamba   Creating an environment called my_env  [r04mr23@maxlogin1(maxwell) ~]$ mamba create --name my_env   The coolest thing about conda/mamba is you can specify the Python version that you want, for example to create a mamba environment with Python 3.11  [r04mr23@maxlogin1(maxwell) ~]$ mamba create --name my_env python=3.11   ","version":"Next","tagName":"h3"},{"title":"Activating the environment​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#activating-the-environment-1","content":" [r04mr23@maxlogin1(maxwell) ~]$ mamba activate my_env # (my_env) will appear at the start if you successfully activated the environment (my_env) [r04mr23@maxlogin1(maxwell) ~]$   ","version":"Next","tagName":"h3"},{"title":"Managing packages​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#managing-packages-2","content":" To install pandas  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ mamba install pandas   If you installed it successfully, now if you check the list of installed packages, you will see pandas in it  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ mamba list # packages in environment at /uoa/home/r04mr23/sharedscratch/.conda/envs/my_env: # # Name Version Build Channel _libgcc_mutex 0.1 conda_forge conda-forge _openmp_mutex 4.5 2_gnu conda-forge pandas 1.2.3 conda_forge conda-forge   To install specific version of a package  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ mamba install pandas=1.2.3   To update a pakacge  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ mamba update pandas   To uninstall a package  (my_env) [r04mr23@maxlogin1(maxwell) ~]$ mamba remove pandas   ","version":"Next","tagName":"h3"},{"title":"Saving installed packages version for reproducibility​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#saving-installed-packages-version-for-reproducibility-1","content":" You can save the installed packages in your environment using conda env export -n my_env -f my_env.yaml for which you can then use the my_env.yaml to install similar packages and version on a new environment  ","version":"Next","tagName":"h3"},{"title":"Deactivating packages​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#deactivating-packages-1","content":" Once you're done with everything or when you want to switch to another environment you can use mamba deactivate command and it will deactivate the current environment  ","version":"Next","tagName":"h3"},{"title":"More resources​","type":1,"pageTitle":"Managing packages","url":"/wiki/working-with-hpc/managing-packages#more-resources-1","content":" Conda's common tasks ","version":"Next","tagName":"h3"}],"options":{"id":"default"}}