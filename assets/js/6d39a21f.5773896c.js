"use strict";(self.webpackChunkmorganlab_wiki=self.webpackChunkmorganlab_wiki||[]).push([[85],{8759:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var t=i(4848),s=i(8453);const o={title:"Slurm interactive session",label:"Slurm interactive session",sidebar_position:3},r="Slurm interactive session",a={id:"working-with-hpc/slurm-interactive-session",title:"Slurm interactive session",description:"One of the common beginner mistake when prototyping or running something on the HPC is to run the job on the login node, which technically should be fine if you're not running something that requires intensive resources. This is where Slurm interactive session comes into play. With Slurm interactive session we can run our programs within HPC clusters in real-time. So instead of using login node with the limited resource that it has, we can utilise the nodes in a full shell session.",source:"@site/docs/working-with-hpc/slurm-interactive-session.md",sourceDirName:"working-with-hpc",slug:"/working-with-hpc/slurm-interactive-session",permalink:"/wiki/working-with-hpc/slurm-interactive-session",draft:!1,unlisted:!1,editUrl:"https://github.com/MorganResearchLab/wiki/docs/working-with-hpc/slurm-interactive-session.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Slurm interactive session",label:"Slurm interactive session",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Running a job",permalink:"/wiki/working-with-hpc/running-a-job"},next:{title:"Managing files and directories",permalink:"/wiki/working-with-hpc/managing-files-and-directories"}},c={},l=[];function h(e){const n={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"slurm-interactive-session",children:"Slurm interactive session"}),"\n",(0,t.jsx)(n.p,{children:"One of the common beginner mistake when prototyping or running something on the HPC is to run the job on the login node, which technically should be fine if you're not running something that requires intensive resources. This is where Slurm interactive session comes into play. With Slurm interactive session we can run our programs within HPC clusters in real-time. So instead of using login node with the limited resource that it has, we can utilise the nodes in a full shell session."}),"\n",(0,t.jsxs)(n.p,{children:["To start an interactive session you can use the ",(0,t.jsx)(n.code,{children:"srun"})," command with the following arguments"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--nodes"}),": Specify the number of compute node that you want to use"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--ntasks-per-node"}),": Tell the number of tasks we want to run per node"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--time"}),": Set how long we want the interactive session to last in ",(0,t.jsx)(n.code,{children:"DD-hh:mm:ss"})," format"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--pty"}),": Create a pseudoterminal for us to interact with the HPC"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"bash"}),": Use bash interactive as the terminal"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-i"}),": Let bash accept the standard input (keyboard input)"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"[r04mr23@maxlogin1(maxwell) ~]$ srun --nodes=1 --ntasks-per-node=1 --time=01:00:00 --pty bash -i\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Running the above command will let us enter the interactive session, you will notice how the hostname changes from ",(0,t.jsx)(n.code,{children:"maxlogin1"})," to one of the node hostname in the HPC, in my case it's ",(0,t.jsx)(n.code,{children:"vhmem002"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"[r04mr23@vhmem002(maxwell) ~]$\n"})}),"\n",(0,t.jsxs)(n.p,{children:["To exit the interactive session and going back to the login node you can use the ",(0,t.jsx)(n.code,{children:"exit"})," command. Happy hacking!"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(6540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);